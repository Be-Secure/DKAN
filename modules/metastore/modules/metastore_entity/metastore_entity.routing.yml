# Route name can be used in several places; e.g. links, redirects, and local
# actions.
entity.metastore_item.canonical:
  path: '/metastore/{metastore_item}'
  defaults:
  # Calls the view controller, defined in the annotation of the metadata entity
    _entity_view: 'metastore_entity_metastore_item'
    _title: 'Metastore item'
  requirements:
  # Calls the access controller of the entity, $operation 'view'
    _entity_access: 'metastore_entity_metastore_item.view'

entity.metastore_item.collection:
  path: '/admin/content/metastore'
  defaults:
  # Calls the list controller, defined in the annotation of the metadata entity.
    _entity_list: 'metastore_item'
    _title: 'DKAN Metastore Item List'
  requirements:
  # Checks for permission directly.
    _permission: 'administer metastore entity'

entity.metastore_item.add_form:
  path: '/metastore/add/{metastore_schema}'
  defaults:
  # Calls the form.add controller, defined in the contact entity.
    _entity_form: metastore_item.default
    _title: 'Add metastore item'
  requirements:
    _entity_create_access: 'metastore_item'

entity.metastore_item.edit_form:
  path: '/metastore/{metastore_item}/edit'
  defaults:
  # Calls the form.edit controller, defined in the contact entity.
    _entity_form: metastore_item.default
    _title: 'Edit metastore item'
  requirements:
    _entity_access: 'metastore_item.edit'

entity.metastore_item.delete_form:
  path: '/metadata/{metastore_item}/delete'
  defaults:
    # Calls the form.delete controller, defined in the contact entity.
    _entity_form: metastore_item.delete
    _title: 'Delete metastore item'
  requirements:
    _entity_access: 'metastore_item.delete'

entity.metastore_schema.collection:
  path: '/admin/structure/metastore_schemas'
  defaults:
    _entity_list: 'metastore_schema'
    _title: 'Metastore schemas'
  requirements:
    _permission: 'administer metastore schemas'

metastore_entity.metastore_schema_add:
  path: '/admin/structure/metastore_schemas/add'
  defaults:
    _entity_form: 'metastore_schema.add'
    _title: 'Add schema'
  requirements:
    _permission: 'administer metastore schemas'

metastore_entity.metastore_schema.edit_form:
  path: '/admin/structure/metastore_schemas/manage/{metastore_schema}'
  defaults:
    _entity_form: 'metastore_schema.edit'
    _title: 'Edit schema'
  requirements:
    _permission: 'administer metadata schemas'

metastore_entity.metastore_schema.delete_form:
  path: '/admin/structure/metastore_schemas/manage/{metastore_schema}/delete'
  defaults:
    _entity_form: 'metastore_schema.delete'
    _title: 'Delete schema'
  requirements:
    _entity_access: 'metastore_schema.delete'